1) Зачем оборачивать function в скобки?
- https://qna.habr.com/q/309482 Это определение анонимной функции без параметров и непосредственный вызов её, так же, без параметров. Локальное объявление функции для локального ее вызова).

2) 

3) почему одни функции зеленые, а другие желтые?

4) })();//зачем эти две скобки в конце?
